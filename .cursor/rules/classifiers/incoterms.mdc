---
description: Классификатор условий поставки / Incoterms (Приложение №7 к Инструкции №2773)
globs: src/**/*.{ts,tsx}
alwaysApply: false
---

# Классификатор условий поставки (Incoterms)

## Источник
- **Приложение №7** к Инструкции о порядке заполнения ГТД
- Стандарт: Incoterms (Международные правила толкования торговых терминов)

## Использование в ГТД

| Графа | Название | Что указывается |
|-------|----------|-----------------|
| 20 | Условия поставки | Код условия + географический пункт |

---

## Классификатор

| № | Наименование | Цифр. | Букв. |
|---|--------------|-------|-------|
| 1 | Франко завод ... | 01 | EXW |
| 2 | Франко перевозчик ... | 02 | FCA |
| 3 | Свободно у борта судна ... | 03 | FAS |
| 4 | Свободно на борту ... | 04 | FOB |
| 5 | Стоимость и фрахт ... | 05 | CFR |
| 6 | Стоимость, страхование и фрахт ... | 06 | CIF |
| 7 | Фрахт оплачен ... | 07 | CPT |
| 8 | Фрахт и страхование оплачены до ... | 08 | CIP |
| 9 | Поставка франко-граница ... | 09 | DAF |
| 10 | Поставка франко-судно ... | 10 | DES |
| 11 | Поставка франко-причал ... | 11 | DEQ |
| 12 | Поставка без уплаты пошлины ... | 12 | DDU |
| 13 | Поставка с уплатой пошлины ... | 13 | DDP |
| 14 | Доставлено до места ... | 14 | DAP |
| 15 | Доставлено на терминал ... | 15 | DAT |
| 16 | Иное условие поставки | 99 | ...* |

> *При коде 99 указывается буквенный код условия поставки

---

## Группы Incoterms

### Группа E — Отгрузка (минимум обязательств продавца)
| Код | Incoterm | Описание |
|-----|----------|----------|
| 01 | **EXW** | Ex Works — Франко завод |

### Группа F — Основная перевозка не оплачена
| Код | Incoterm | Описание |
|-----|----------|----------|
| 02 | **FCA** | Free Carrier — Франко перевозчик |
| 03 | **FAS** | Free Alongside Ship — Свободно у борта судна |
| 04 | **FOB** | Free On Board — Свободно на борту |

### Группа C — Основная перевозка оплачена
| Код | Incoterm | Описание |
|-----|----------|----------|
| 05 | **CFR** | Cost and Freight — Стоимость и фрахт |
| 06 | **CIF** | Cost, Insurance and Freight — Стоимость, страхование и фрахт |
| 07 | **CPT** | Carriage Paid To — Фрахт оплачен до |
| 08 | **CIP** | Carriage and Insurance Paid To — Фрахт и страхование оплачены до |

### Группа D — Доставка (максимум обязательств продавца)
| Код | Incoterm | Описание |
|-----|----------|----------|
| 09 | **DAF** | Delivered At Frontier — Поставка на границе |
| 10 | **DES** | Delivered Ex Ship — Поставка с судна |
| 11 | **DEQ** | Delivered Ex Quay — Поставка с причала |
| 12 | **DDU** | Delivered Duty Unpaid — Без уплаты пошлины |
| 13 | **DDP** | Delivered Duty Paid — С уплатой пошлины |
| 14 | **DAP** | Delivered At Place — Доставлено до места |
| 15 | **DAT** | Delivered At Terminal — Доставлено на терминал |

---

## Формат заполнения графы 20

### Структура:
```
[Цифровой код] [Буквенный код] [Географический пункт]
```

### Примеры:
```
06 CIF Ташкент
04 FOB Шанхай
08 CIP граница Узбекистана
13 DDP Бухара
01 EXW Москва
```

---

## Наиболее частые условия для Узбекистана

| Incoterm | Код | Использование |
|----------|-----|---------------|
| **CIP** | 08 | Импорт — фрахт и страхование до границы/пункта |
| **DAP** | 14 | Импорт — доставка до места назначения |
| **FCA** | 02 | Экспорт — передача перевозчику |
| **CPT** | 07 | Экспорт — фрахт оплачен до пункта |
| **EXW** | 01 | Экспорт — самовывоз с завода |
| **DDP** | 13 | Импорт — полная доставка с пошлинами |

---

## TypeScript данные

```typescript
export const INCOTERMS = {
  '01': { code: 'EXW', name: 'Франко завод', fullName: 'Ex Works', group: 'E' },
  '02': { code: 'FCA', name: 'Франко перевозчик', fullName: 'Free Carrier', group: 'F' },
  '03': { code: 'FAS', name: 'Свободно у борта судна', fullName: 'Free Alongside Ship', group: 'F' },
  '04': { code: 'FOB', name: 'Свободно на борту', fullName: 'Free On Board', group: 'F' },
  '05': { code: 'CFR', name: 'Стоимость и фрахт', fullName: 'Cost and Freight', group: 'C' },
  '06': { code: 'CIF', name: 'Стоимость, страхование и фрахт', fullName: 'Cost, Insurance and Freight', group: 'C' },
  '07': { code: 'CPT', name: 'Фрахт оплачен до', fullName: 'Carriage Paid To', group: 'C' },
  '08': { code: 'CIP', name: 'Фрахт и страхование оплачены до', fullName: 'Carriage and Insurance Paid To', group: 'C' },
  '09': { code: 'DAF', name: 'Поставка на границе', fullName: 'Delivered At Frontier', group: 'D' },
  '10': { code: 'DES', name: 'Поставка с судна', fullName: 'Delivered Ex Ship', group: 'D' },
  '11': { code: 'DEQ', name: 'Поставка с причала', fullName: 'Delivered Ex Quay', group: 'D' },
  '12': { code: 'DDU', name: 'Без уплаты пошлины', fullName: 'Delivered Duty Unpaid', group: 'D' },
  '13': { code: 'DDP', name: 'С уплатой пошлины', fullName: 'Delivered Duty Paid', group: 'D' },
  '14': { code: 'DAP', name: 'Доставлено до места', fullName: 'Delivered At Place', group: 'D' },
  '15': { code: 'DAT', name: 'Доставлено на терминал', fullName: 'Delivered At Terminal', group: 'D' },
  '99': { code: 'OTHER', name: 'Иное условие', fullName: 'Other', group: '-' },
} as const;

export type IncotermCode = keyof typeof INCOTERMS;

export const INCOTERMS_BY_LETTER = {
  'EXW': '01', 'FCA': '02', 'FAS': '03', 'FOB': '04',
  'CFR': '05', 'CIF': '06', 'CPT': '07', 'CIP': '08',
  'DAF': '09', 'DES': '10', 'DEQ': '11', 'DDU': '12',
  'DDP': '13', 'DAP': '14', 'DAT': '15',
} as const;
```

---

## Валидация

```typescript
function validateIncoterm(numericCode: string): boolean {
  const validCodes = ['01','02','03','04','05','06','07','08','09','10','11','12','13','14','15','99'];
  return validCodes.includes(numericCode);
}

function parseGraph20(value: string): { numericCode: string; letterCode: string; location: string } | null {
  // Пример: "06 CIF Ташкент"
  const match = value.match(/^(\d{2})\s+([A-Z]{3})\s+(.+)$/);
  if (!match) return null;
  
  return {
    numericCode: match[1],
    letterCode: match[2],
    location: match[3]
  };
}
```

---

## Переход рисков и расходов

| Incoterm | Риск переходит | Расходы до |
|----------|----------------|------------|
| EXW | На заводе продавца | Завод |
| FCA | При передаче перевозчику | Перевозчик |
| FOB | При погрузке на судно | Борт судна |
| CIF | При погрузке на судно | Порт назначения |
| CIP | При передаче перевозчику | Пункт назначения |
| DAP | При прибытии в пункт | Пункт назначения |
| DDP | При прибытии в пункт | Пункт + пошлины |
